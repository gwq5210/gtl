- [LRU介绍](#lru介绍)
- [LRU实现](#lru实现)
- [参考](#参考)

# LRU介绍

LRU即Least Recently Used，最近最少使用，是一种常见的缓存淘汰算法

LRU认为最近访问的元素需要缓存，最近不常被访问的数据需要被淘汰

也就是说，LRU认为如果数据最近被访问过，则未来被访问的几率也很高

下边是LRU的例子

```shell
# 假定缓存容量为5
4，7，0，7，1，0，1，2，1，2，6

4
7, 4
0, 7, 4
7, 0, 4
1, 7, 0, 4
0, 1, 7, 4
1, 0, 7, 4
2, 1, 0, 7, 4
1, 2, 0, 7, 4
2, 1, 0, 7, 4
6, 2, 1, 0, 7
```

# LRU实现

LRU的实现一般要用到哈希表和双向链表（单链表也可以），可以实现O(1)复杂度的LRU缓存

要点如下

- 设置缓存初始容量
- 新元素添加到链表头部
- 访问或更新已存在元素，则将元素从链表中间移到链表头部
- 缓存满时，淘汰链表尾部的元素

# 参考

- [EvictingCacheMap](https://github.com/facebook/folly/blob/main/folly/container/EvictingCacheMap.h)
